---
- name: Installing Jenkins
  hosts: server1
  tasks:
    - name: Running apt update
      apt:
        update_cache: true
    - name: Installing Java
      apt:
        name: default-jdk
        state: latest
    - name: Adding apt_key to the system
      apt_key: url=https://pkg.jenkins.io/debian-stable/jenkins.io.key
    - name: Configure Repository
      apt_repository: repo='deb http://pkg.jenkins.io/debian-stable binary/'
    - name: Running apt update
      apt:
        update_cache: true
    - name: Installing Jenkins
      apt:
        name: jenkins
    - name: Status check
      service:
        name: jenkines
